<!-- This is the main header section -->
<h1>
    <%= message %>
</h1>

<!-- This section contains the feed posts -->
<section id="feed-posts">
    <!-- Header for the posts section -->
    <h4>Posts</h4>

    <!-- Check if there are any posts available -->
    <% if (posts.length > 0) { %>
        <ul>
            <!-- Loop through each post -->
            <% posts.forEach(function(post) { %>
                <li><%= post.content %></li>
                <small id="space-bottom">Posted By:<%= post.user.name %></small>

                <!-- Check if there are any comments for this post -->
                <% if (post.comments.length > 0) { %>
                    <ul>
                        <!-- Loop through each comment -->
                        <% post.comments.forEach(function(comment) { %>
                            <li><%= comment.content %></li>
                            <small>Commented By:<%= comment.user.name %></small>
                        <% }); %>
                    </ul>
                <% } %>

                <!-- Form to add a new comment -->
                <form action="/comments/create" method="post">
                    <textarea name="content" cols="30" rows="3" placeholder="Add Comments..." required></textarea>
                    <input type="hidden" name="postId" value="<%= post._id %>">
                    <input type="submit" value="Add">
                </form>
            <% }); %>
        </ul>
    <!-- If there are no posts available -->
    <% } else { %>
        <p>No posts available.</p>
    <% } %>

    <!-- Form to create a new post -->
    <form action="/posts/create" id="new-posts-form" method="post">
        <textarea name="content" cols="30" rows="3" placeholder="Type Here...." required></textarea>
        <input type="submit" value="Post">
    </form>
</section>
